{"version":3,"sources":["components/Header.tsx","api.ts","utils.ts","routes/Home.tsx","routes/Search.tsx","routes/Tv.tsx","App.tsx","index.tsx","theme.ts"],"names":["Nav","styled","motion","nav","Logo","svg","props","theme","red","Col","div","Items","ul","Item","li","white","lighter","Search","form","Circle","span","Input","input","logVariants","normal","fillOpacity","active","transition","repeat","Infinity","navVariants","top","backgroundColor","scroll","Header","useState","searchOpen","setSearchOpen","tvMatch","useRouteMatch","homeMatch","inputAnimation","useAnimation","scrollY","useViewportScroll","navAnimation","useEffect","onChange","get","start","history","useHistory","useForm","register","handleSubmit","setValue","formState","variants","animate","initial","whileHover","xmlns","width","height","viewBox","id","path","d","to","isExact","layoutId","onSubmit","data","console","log","push","keyword","onClick","scaleX","curr","x","type","fill","fillRule","clipRule","required","minLength","value","message","placeholder","API_KEY","getMovies","fetch","then","response","json","makeImagePath","format","Wrapper","Loader","Banner","bgPhoto","Title","h2","Overview","p","Slider","Row","Box","Info","black","BigMovie","BigCover","BigTitle","h3","BigOverview","OverLay","rowVariants","hidden","window","innerWidth","visible","exit","boxVariants","scale","delay","hover","zIndex","y","duration","infoVariants","opacity","Home","scrollYProgress","bigMovieMatch","useQuery","isLoading","page","setPage","leaving","setLeaving","toggleLeaving","clickedMovie","params","movieId","results","find","movie","totalMovies","length","maxIdx","Math","ceil","backdrop_path","title","overview","AnimatePresence","onExitComplete","slice","map","style","backgroundImage","location","useLocation","search","URLSearchParams","Promise","all","result","Object","keys","i","Tv","App","GlobalStyle","createGlobalStyle","darker","queryClient","QueryClient","ReactDOM","render","StrictMode","client","veryDark","document","getElementById"],"mappings":"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","file":"static/js/main.01388237.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nimport { motion, useAnimation, useViewportScroll } from \"framer-motion\";\r\nimport { Link, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst Nav = styled(motion.nav)`\r\n  width: 100%;\r\n  top: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: fixed;\r\n  font-size: 14px;\r\n  padding: 20px 60px;\r\n  color: white;\r\n`;\r\n\r\nconst Logo = styled(motion.svg)`\r\n  margin-right: 50px;\r\n  width: 95px;\r\n  height: 25px;\r\n  fill: ${(props) => props.theme.red};\r\n  path {\r\n    stroke-width: 5;\r\n    stroke: white;\r\n    overflow: visible;\r\n  }\r\n`;\r\n\r\nconst Col = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Items = styled.ul`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Item = styled.li`\r\n  margin-right: 20px;\r\n  color: ${(props) => props.theme.white.lighter};\r\n  transition: color 0.3s ease-in-out;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  &:hover {\r\n    color: ${(props) => props.theme.white.lighter};\r\n  }\r\n`;\r\n\r\nconst Search = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  color: white;\r\n  svg {\r\n    height: 25px;\r\n  }\r\n`;\r\n\r\nconst Circle = styled(motion.span)`\r\n  position: absolute;\r\n  width: 5px;\r\n  height: 5px;\r\n  border-radius: 2.5px;\r\n  bottom: -10px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: 0 auto;\r\n  background-color: ${(props) => props.theme.red};\r\n`;\r\n\r\nconst Input = styled(motion.input)`\r\n  transform-origin: right center;\r\n  position: absolute;\r\n  right: 0px;\r\n  padding: 5px 10px 5px 40px;\r\n  z-index: -1;\r\n  color: white;\r\n  font-size: 16px;\r\n  background-color: transparent;\r\n  border: 1px solid ${(props) => props.theme.white.lighter};\r\n`;\r\n\r\nconst logVariants = {\r\n  normal: { fillOpacity: 1 },\r\n  active: {\r\n    fillOpacity: [0, 1, 0, 1],\r\n    transition: { repeat: Infinity },\r\n  },\r\n};\r\n\r\nconst navVariants = {\r\n  top: {\r\n    backgroundColor: \"rgba(0,0,0,0)\",\r\n  },\r\n  scroll: { backgroundColor: \"rgba(0,0,0,1)\" },\r\n};\r\n\r\ninterface IForm {\r\n  keyword: string;\r\n}\r\n\r\nfunction Header() {\r\n  const [searchOpen, setSearchOpen] = useState(false);\r\n  const tvMatch = useRouteMatch(\"/tv\");\r\n  const homeMatch = useRouteMatch(\"/\");\r\n  const inputAnimation = useAnimation();\r\n  const { scrollY } = useViewportScroll();\r\n  const navAnimation = useAnimation();\r\n  useEffect(() => {\r\n    scrollY.onChange(() => {\r\n      if (scrollY.get() > 80) {\r\n        navAnimation.start(\"scroll\");\r\n      } else {\r\n        navAnimation.start(\"top\");\r\n      }\r\n    });\r\n  }, [scrollY, navAnimation]);\r\n\r\n  const toggleSearch = () => {\r\n    if (searchOpen) {\r\n      inputAnimation.start({ scaleX: 0 });\r\n    } else {\r\n      inputAnimation.start({ scaleX: 1 });\r\n    }\r\n    setSearchOpen((curr) => !curr);\r\n  };\r\n\r\n  const history = useHistory();\r\n  const { register, handleSubmit, setValue, formState } = useForm<IForm>();\r\n\r\n  const onValid = (data: IForm) => {\r\n    console.log(data);\r\n    history.push(`/search?keyword=${data.keyword}`);\r\n  };\r\n  return (\r\n    <Nav variants={navVariants} animate={navAnimation} initial=\"top\">\r\n      <Col>\r\n        <Logo\r\n          variants={logVariants}\r\n          whileHover=\"active\"\r\n          animate=\"normal\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"1024\"\r\n          height=\"276.742\"\r\n          viewBox=\"0 0 1024 276.742\"\r\n        >\r\n          <g id=\"netflix-logo\">\r\n            <motion.path d=\"M140.803 258.904c-15.404 2.705-31.079 3.516-47.294 5.676l-49.458-144.856v151.073c-15.404 1.621-29.457 3.783-44.051 5.945v-276.742h41.08l56.212 157.021v-157.021h43.511v258.904zm85.131-157.558c16.757 0 42.431-.811 57.835-.811v43.24c-19.189 0-41.619 0-57.835.811v64.322c25.405-1.621 50.809-3.785 76.482-4.596v41.617l-119.724 9.461v-255.39h119.724v43.241h-76.482v58.105zm237.284-58.104h-44.862v198.908c-14.594 0-29.188 0-43.239.539v-199.447h-44.862v-43.242h132.965l-.002 43.242zm70.266 55.132h59.187v43.24h-59.187v98.104h-42.433v-239.718h120.808v43.241h-78.375v55.133zm148.641 103.507c24.594.539 49.456 2.434 73.51 3.783v42.701c-38.646-2.434-77.293-4.863-116.75-5.676v-242.689h43.24v201.881zm109.994 49.457c13.783.812 28.377 1.623 42.43 3.242v-254.58h-42.43v251.338zm231.881-251.338l-54.863 131.615 54.863 145.127c-16.217-2.162-32.432-5.135-48.648-7.838l-31.078-79.994-31.617 73.51c-15.678-2.705-30.812-3.516-46.484-5.678l55.672-126.75-50.269-129.992h46.482l28.377 72.699 30.27-72.699h47.295z\" />\r\n          </g>\r\n        </Logo>\r\n\r\n        <Items>\r\n          <Item>\r\n            <Link to=\"/\">\r\n              Home {homeMatch?.isExact && <Circle layoutId=\"indicator\" />}\r\n            </Link>\r\n          </Item>\r\n          <Item>\r\n            <Link to=\"/tv\">\r\n              Tv Shows\r\n              {tvMatch && <Circle layoutId=\"indicator\" />}\r\n            </Link>\r\n          </Item>\r\n        </Items>\r\n      </Col>\r\n      <Col>\r\n        <Search onSubmit={handleSubmit(onValid)}>\r\n          <motion.svg\r\n            onClick={toggleSearch}\r\n            animate={{ x: searchOpen ? -210 : 0 }}\r\n            transition={{ type: \"linear\" }}\r\n            fill=\"currentColor\"\r\n            viewBox=\"0 0 20 20\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <motion.path\r\n              fillRule=\"evenodd\"\r\n              d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\r\n              clipRule=\"evenodd\"\r\n            ></motion.path>\r\n          </motion.svg>\r\n          <Input\r\n            {...register(\"keyword\", {\r\n              required: \"검색어를 입력하세요.\",\r\n              minLength: {\r\n                value: 2,\r\n                message: \"2자이상 입력하세요.\",\r\n              },\r\n            })}\r\n            transition={{ type: \"linear\" }}\r\n            initial={{ scaleX: 0 }}\r\n            animate={inputAnimation}\r\n            type=\"text\"\r\n            placeholder=\"Search for movie or tv show...\"\r\n          />\r\n        </Search>\r\n      </Col>\r\n    </Nav>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","const API_KEY = \"72caad34e2c43d870d78d98ae9a0980b\";\r\nconst BASE_PATH = \"https://api.themoviedb.org/3\";\r\n\r\ninterface IMovie {\r\n  id: number;\r\n  backdrop_path: string;\r\n  poster_path: string;\r\n  title: string;\r\n  overview: string;\r\n}\r\nexport interface IGetMoviesResult {\r\n  dates: { minimum: string; maximum: string };\r\n  page: number;\r\n  results: IMovie[];\r\n  total_pages: number;\r\n  total_results: number;\r\n}\r\n\r\nexport interface ISearchResult {\r\n  name: string;\r\n  id: number;\r\n}\r\nexport interface ISearchResults {\r\n  page: number;\r\n  results: ISearchResult[];\r\n  total_pages: number;\r\n  total_results: number;\r\n}\r\n\r\nexport function getMovies() {\r\n  return fetch(\r\n    `${BASE_PATH}/movie/now_playing?api_key=${API_KEY}&language=en-US&page=1`\r\n  ).then((response) => response.json());\r\n}\r\n\r\nexport function searchKeyword(keyword: string) {\r\n  return fetch(`\r\n  https://api.themoviedb.org/3/search/keyword?api_key=${API_KEY}&query=${keyword}&page=1`).then(\r\n    (response) => response.json()\r\n  );\r\n}\r\n","export function makeImagePath(id: string, format?: string) {\r\n  return `http://image.tmdb.org/t/p/${format ? format : \"original\"}/${id}`;\r\n}\r\n","import { AnimatePresence, motion, useViewportScroll } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { getMovies, IGetMoviesResult } from \"../api\";\r\nimport { makeImagePath } from \"../utils\";\r\n\r\nconst Wrapper = styled.div`\r\n  background-color: black;\r\n`;\r\n\r\nconst Loader = styled.div`\r\n  height: 20vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Banner = styled.div<{ bgPhoto: string }>`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 60px;\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 1)),\r\n    url(${(props) => props.bgPhoto});\r\n  background-size: over;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 48px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Overview = styled.p`\r\n  font-size: 24px;\r\n  width: 70%;\r\n`;\r\n\r\nconst Slider = styled.div`\r\n  position: relative;\r\n  top: -100px;\r\n`;\r\n\r\nconst Row = styled(motion.div)`\r\n  display: grid;\r\n  grid-template-columns: repeat(6, 1fr);\r\n  gap: 5px;\r\n  position: absolute;\r\n  width: 100%;\r\n`;\r\n\r\nconst Box = styled(motion.div)<{ bgPhoto: string }>`\r\n  background-color: white;\r\n  height: 200px;\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 1)),\r\n    url(${(props) => props.bgPhoto});\r\n  background-size: cover;\r\n  background-position: center center;\r\n  color: white;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n\r\n  &:first-child {\r\n    transform-origin: center left;\r\n  }\r\n  &:last-child {\r\n    transform-origin: center right;\r\n  }\r\n`;\r\n\r\nconst Info = styled(motion.div)`\r\n  padding: 10px;\r\n  opacity: 0;\r\n  background-color: ${(props) => props.theme.black.lighter};\r\n  position: absolute;\r\n  width: 100%;\r\n  bottom: 0;\r\n  h4 {\r\n    text-align: center;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nconst BigMovie = styled(motion.div)`\r\n  position: absolute;\r\n  width: 40vw;\r\n  height: 80vh;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto auto;\r\n  background-color: ${(props) => props.theme.black.lighter};\r\n  border-radius: 15px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst BigCover = styled.div`\r\n  width: 100%;\r\n  height: 400px;\r\n  background-size: cover;\r\n  background-position: center center;\r\n`;\r\nconst BigTitle = styled.h3`\r\n  color: ${(props) => props.theme.white.lighter};\r\n  padding: 10px;\r\n  font-size: 2rem;\r\n  position: relative;\r\n  top: -60px;\r\n`;\r\n\r\nconst BigOverview = styled.p`\r\n  padding: 20px;\r\n  position: relative;\r\n  top: -80px;\r\n`;\r\n\r\nconst OverLay = styled(motion.div)`\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  opacity: 0;\r\n`;\r\n\r\nconst rowVariants = {\r\n  hidden: { x: window.innerWidth + 5 },\r\n  visible: { x: 0 },\r\n  exit: { x: -window.innerWidth - 5 },\r\n};\r\n\r\nconst boxVariants = {\r\n  normal: {\r\n    scale: 1,\r\n    transition: { delay: 0.5, type: \"tween\" },\r\n  },\r\n  hover: {\r\n    zIndex: 99,\r\n    scale: 1.3,\r\n    y: -50,\r\n    transition: { delay: 0.5, type: \"tween\", duration: 0.3 },\r\n  },\r\n};\r\n\r\nconst infoVariants = {\r\n  hover: {\r\n    opacity: 1,\r\n    transition: { delay: 0.5, type: \"tween\", duration: 0.3 },\r\n  },\r\n};\r\nconst OFF_SET = 6;\r\n\r\nfunction Home() {\r\n  const { scrollY, scrollYProgress } = useViewportScroll();\r\n  const history = useHistory();\r\n  const bigMovieMatch = useRouteMatch<{ movieId: string }>(\"/movie/:movieId\");\r\n\r\n  const { isLoading, data } = useQuery<IGetMoviesResult>(\r\n    [\"movies\", \"nowPlaying\"],\r\n    getMovies\r\n  );\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [leaving, setLeaving] = useState(false);\r\n\r\n  const increaseIdx = () => {\r\n    if (data) {\r\n      if (leaving) return;\r\n      toggleLeaving();\r\n      const totalMovies = data.results.length - 1;\r\n      const maxIdx = Math.ceil(totalMovies / OFF_SET) - 1;\r\n\r\n      console.log(\"totalMovies\", totalMovies);\r\n      console.log(\"maxIdx\", maxIdx);\r\n      setPage((curr) => (curr >= maxIdx ? 0 : curr + 1));\r\n    }\r\n  };\r\n\r\n  const toggleLeaving = () => {\r\n    setLeaving((curr) => !curr);\r\n  };\r\n\r\n  const onBoxClicked = (movieId: number) => {\r\n    history.push(`/movie/${movieId}`);\r\n  };\r\n\r\n  const onOverlayClick = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const clickedMovie =\r\n    bigMovieMatch?.params.movieId &&\r\n    data?.results.find(\r\n      (movie) => movie.id + \"\" === bigMovieMatch.params.movieId\r\n    );\r\n\r\n  return (\r\n    <Wrapper>\r\n      {isLoading ? (\r\n        <Loader>Loading...</Loader>\r\n      ) : (\r\n        <>\r\n          <Banner\r\n            onClick={increaseIdx}\r\n            bgPhoto={makeImagePath(data?.results[0].backdrop_path || \"\")}\r\n          >\r\n            <Title>{data?.results[0].title}</Title>\r\n            <Overview>{data?.results[0].overview}</Overview>\r\n          </Banner>\r\n          <Slider>\r\n            <AnimatePresence initial={false} onExitComplete={toggleLeaving}>\r\n              <Row\r\n                key={page}\r\n                variants={rowVariants}\r\n                transition={{ type: \"tween\", duration: 2 }}\r\n                initial=\"hidden\"\r\n                animate=\"visible\"\r\n                exit=\"exit\"\r\n              >\r\n                {data?.results\r\n                  .slice(1)\r\n                  .slice(OFF_SET * page, OFF_SET * page + OFF_SET)\r\n                  .map((movie) => (\r\n                    <Box\r\n                      layoutId={movie.id + \"\"}\r\n                      onClick={() => onBoxClicked(movie.id)}\r\n                      variants={boxVariants}\r\n                      key={movie.id}\r\n                      initial=\"normal\"\r\n                      whileHover=\"hover\"\r\n                      bgPhoto={makeImagePath(movie.backdrop_path, \"w500\")}\r\n                    >\r\n                      <Info variants={infoVariants}>\r\n                        <h4>{movie.title}</h4>\r\n                      </Info>\r\n                    </Box>\r\n                  ))}\r\n              </Row>\r\n            </AnimatePresence>\r\n          </Slider>\r\n          <AnimatePresence>\r\n            {bigMovieMatch ? (\r\n              <>\r\n                <OverLay\r\n                  onClick={onOverlayClick}\r\n                  animate={{ opacity: 1 }}\r\n                  exit={{ opacity: 0 }}\r\n                />\r\n                <BigMovie\r\n                  layoutId={bigMovieMatch.params.movieId}\r\n                  style={{ top: scrollY.get() + 80 }}\r\n                >\r\n                  {clickedMovie && (\r\n                    <>\r\n                      <BigCover\r\n                        style={{\r\n                          backgroundImage: `url(${makeImagePath(\r\n                            clickedMovie.backdrop_path,\r\n                            \"w500\"\r\n                          )}\r\n                          )`,\r\n                        }}\r\n                      />\r\n                      <BigTitle>{clickedMovie.title}</BigTitle>\r\n                      <BigOverview>{clickedMovie.overview}</BigOverview>\r\n                    </>\r\n                  )}\r\n                </BigMovie>\r\n              </>\r\n            ) : null}\r\n          </AnimatePresence>\r\n        </>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { useQuery } from \"react-query\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { constSelector } from \"recoil\";\r\nimport { ISearchResult, ISearchResults, searchKeyword } from \"../api\";\r\n\r\nfunction Search() {\r\n  const location = useLocation();\r\n  const search = new URLSearchParams(location.search);\r\n\r\n  const { isLoading, data } = useQuery<ISearchResults>(\"search\", () =>\r\n    searchKeyword(search.get(\"keyword\") || \"\")\r\n  );\r\n\r\n  console.log(\"data\", data?.results);\r\n  console.log(\r\n    \"Promise\",\r\n    data\r\n      ? Promise.all(data.results).then((result) =>\r\n          console.log(\r\n            \"machedResult\",\r\n            Object.keys(result).map((i) => console.log(\"i\", i))\r\n          )\r\n        )\r\n      : null\r\n  );\r\n\r\n  return <div> Search </div>;\r\n}\r\n\r\nexport default Search;\r\n","function Tv() {\r\n  return <div> Tv </div>;\r\n}\r\n\r\nexport default Tv;\r\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Header from \"./components/Header\";\nimport Home from \"./routes/Home\";\nimport Search from \"./routes/Search\";\nimport Tv from \"./routes/Tv\";\n// basename={process.env.PUBLIC_URL}\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path=\"/tv\">\n          <Tv />\n        </Route>\n        <Route path=\"/search\">\n          <Search />\n        </Route>\n\n        <Route path={[\"/\", \"/movie/:movieId\"]}>\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { ThemeProvider, createGlobalStyle } from \"styled-components\";\nimport { theme } from \"./theme\";\nimport { RecoilRoot } from \"recoil\";\nimport { QueryClientProvider, QueryClient } from \"react-query\";\nconst GlobalStyle = createGlobalStyle`\n@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400&display=swap');\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n* {\n  box-sizing: border-box;\n}\nbody {\n  font-weight: 300;\n  font-family: 'Source Sans Pro', sans-serif;\n  color: ${(props) => props.theme.white.darker} ;\n  background-color: ${(props) => props.theme.black.darker} ;\n  line-height: 1.2;\n  \n}\na {\n  text-decoration:none;\n  color:inherit;\n}\n`;\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <QueryClientProvider client={queryClient}>\n        <ThemeProvider theme={theme}>\n          <GlobalStyle />\n          <App />\n        </ThemeProvider>\n      </QueryClientProvider>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { DefaultTheme } from \"styled-components\";\r\n\r\nexport const theme: DefaultTheme = {\r\n  red: \"#E51013\",\r\n  black: {\r\n    veryDark: \"#141414\",\r\n    darker: \"#181818\",\r\n    lighter: \"#2F2F2F\",\r\n  },\r\n  white: {\r\n    lighter: \"#fff\",\r\n    darker: \"#e5e5e5\",\r\n  },\r\n};"],"sourceRoot":""}